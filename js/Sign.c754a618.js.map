{"version":3,"sources":["webpack:///./src/views/Sign/Sign.vue?5180","webpack:///./src/views/Sign/Sign.vue","webpack:///./src/views/Sign/Sign.vue?f8d9"],"names":["class","id","src","alt","onSign","name","nodeError","type","title","placeholder","SignBlock","email","passward","SignUser","value","LoginUser","data","methods","this","Work","User","then","console","log","$store","state","user","$router","push","alert","ErrorTip","LoginUserGlobal","updated","document","mounted","TestServer","error","__exports__","render"],"mappings":"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","file":"js/Sign.c754a618.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Sign.vue?vue&type=style&index=0&id=428fe88c&scoped=true&lang=less\"","<template>\r\n    <div id=\"SignPage\" :class=\"{onSign:onSign}\">\r\n        <div class=\"backgroundLogo\">DataLife</div>\r\n        <transition name=\"appear\">\r\n            <div id=\"SignBlock\" v-if=\"onSign\">\r\n                <div class=\"logo\">\r\n                    <img src=\"./../../assets/logo.png\" alt=\"\">\r\n                </div>\r\n                <div class=\"Header\">\r\n                    <p class=\"title\" @click=\"onSign=!onSign\">注册</p>\r\n                    <p class=\"nodeError\" v-if=\"nodeError\">服务请求错误-请联系管理员</p>\r\n                </div>\r\n                <div class=\"Form\">\r\n                    <input type=\"text\" class=\"email\" title=\"邮箱地址\" placeholder=\"邮箱地址\" v-model=\"SignBlock.email\" />\r\n                    <input type=\"password\" class=\"password\" title=\"您的密码\" placeholder=\"您的密码\" v-model=\"SignBlock.passward\"\r\n                        @keydown.enter=\"SignUser()\" />\r\n                    <input type=\"button\" class=\"submit\" value=\"注册账号\" @click=\"SignUser()\" />\r\n                </div>\r\n                <div class=\"Footer\">\r\n                    <span class=\"goLogin\" @click=\"onSign=false\">已有账号?转去登录</span>\r\n                </div>\r\n            </div>\r\n        </transition>\r\n        <transition name=\"appear\">\r\n            <div id=\"LoginBlock\" v-if=\"!onSign\">\r\n                <div class=\"logo\">\r\n                    <img src=\"./../../assets/logo.png\" alt=\"\">\r\n                </div>\r\n                <div class=\"Header\">\r\n                    <p class=\"title\" @click=\"onSign=!onSign\">现在就登录</p>\r\n                    <p class=\"nodeError\" v-if=\"nodeError\">服务请求错误-请联系管理员</p>\r\n                </div>\r\n                <div class=\"Form\">\r\n                    <input type=\"text\" class=\"email\" title=\"邮箱地址\" placeholder=\"邮箱地址\" v-model=\"SignBlock.email\" />\r\n                    <input type=\"password\" class=\"password\" title=\"您的密码\" placeholder=\"您的密码\" v-model=\"SignBlock.passward\"\r\n                        @keydown.enter=\"LoginUser()\" />\r\n                    <input type=\"button\" class=\"submit\" value=\"登录账号\" @click=\"LoginUser(true)\" />\r\n                </div>\r\n                <div class=\"Footer\">\r\n                    <span class=\"goLogin\" @click=\"onSign=true\">新用户注册</span>\r\n                </div>\r\n            </div>\r\n        </transition>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name:'Sign',\r\n    data() {\r\n        return {\r\n            nodeError: false,\r\n            onSign: false,\r\n            SignBlock: {\r\n                email: \"\",\r\n                passward: \"\",\r\n            },\r\n        };\r\n    },\r\n    methods: {\r\n        // 注册新用户\r\n        SignUser() {\r\n            this.Work.User.SignUser(this.SignBlock).then(\r\n                (data) => {\r\n                    console.log(data);\r\n                    let log = data.type;\r\n                    if (log == \"success\") {\r\n                        this.$store.state.user = data.user;\r\n                        this.$router.push(\"affair\");\r\n                    } else if (log == \"exist\") {\r\n                        alert(\"该用户已存在,请直接登录\");\r\n                        this.onSign = false;\r\n                    } else if (log == \"error\") {\r\n                        alert(\"未知错误,请直接联系DataLife管理人员!\");\r\n                    }\r\n                },\r\n                (ErrorTip) => {\r\n                    if (ErrorTip == \"DataError\") {\r\n                        alert(\"邮箱和密码请勿为空\");\r\n                    } else if (ErrorTip == \"NetError\") {\r\n                        alert(\"服务请求错误,请直接联系DataLife管理人员!\");\r\n                    } else {\r\n                        alert(\"未知错误,请直接联系DataLife管理人员!\");\r\n                    }\r\n                }\r\n            );\r\n        },\r\n        LoginUser(){\r\n            // console.log(this.SignBlock);\r\n            this.Work.User.LoginUserGlobal(this.SignBlock)\r\n                .then((data)=>{\r\n                    console.log(data);\r\n                    this.$store.state.user = data.user;\r\n                    // this.$store.state.user.id = data.user.id;\r\n                    // this.$store.state.isLogin = true;\r\n                    this.$router.push(\"affair\");\r\n                })\r\n        }\r\n    },\r\n    updated(){\r\n        if(this.onSign){\r\n            document.title = \"DataLife-用户注册\";\r\n        }else{\r\n            document.title = \"DataLife-用户登录\";\r\n        }\r\n    },\r\n    mounted() {\r\n        if(this.onSign){\r\n            document.title = \"DataLife-用户注册\";\r\n        }else{\r\n            document.title = \"DataLife-用户登录\";\r\n        }\r\n        // 检测与服务器连接\r\n        this.Work.User.TestServer().then(\r\n            () => {\r\n                this.nodeError = false;\r\n            },\r\n            (error) => {\r\n                console.log(error);\r\n                this.nodeError = true;\r\n            }\r\n        );\r\n    },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n@import url(./Sign.less);\r\n</style>","import { render } from \"./Sign.vue?vue&type=template&id=428fe88c&scoped=true\"\nimport script from \"./Sign.vue?vue&type=script&lang=js\"\nexport * from \"./Sign.vue?vue&type=script&lang=js\"\n\nimport \"./Sign.vue?vue&type=style&index=0&id=428fe88c&scoped=true&lang=less\"\n\nimport exportComponent from \"D:\\\\Program\\\\DataLife\\\\vue-web\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-428fe88c\"]])\n\nexport default __exports__"],"sourceRoot":""}